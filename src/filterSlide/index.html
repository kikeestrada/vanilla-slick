<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>

    <title>Vanilla Slick - the last carousel you'll ever need</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/slick/slick.css"/>
    <link rel="stylesheet" type="text/css" href="/slick/slick-theme.css"/>
    <link rel="stylesheet" type="text/css" href="../common/style.css">
    <script src="../common/modernizr.min.js" type="text/javascript"></script>
  </head>
  <body>
    <main>
      <section id="features" class="blue">
        <div class="content">

          <h2>Filtering</h2>
          <div class="slider filtering">
            <div>
              <h3>1</h3>
            </div>
            <div>
              <h3>2</h3>
            </div>
            <div>
              <h3>3</h3>
            </div>
            <div>
              <h3>4</h3>
            </div>
            <div>
              <h3>5</h3>
            </div>
            <div>
              <h3>6</h3>
            </div>
            <div>
              <h3>7</h3>
            </div>
            <div>
              <h3>8</h3>
            </div>
            <div>
              <h3>9</h3>
            </div>
            <div>
              <h3>10</h3>
            </div>
            <div>
              <h3>11</h3>
            </div>
            <div>
              <h3>12</h3>
            </div>
          </div>
          <div class="filter">
            <a href="javascript:void(0)" class="button js-filter">Filter Slides</a>
            <fieldset class="js-filterType">
              <label><input type="radio" id="radio-css" name="filterType" value="css">css</label>
              <label><input type="radio" id="radio-node" name="filterType" value="node">node</label>
              <label><input type="radio" id="radio-function" name="filterType" value="function">function</label>
            </fieldset>
          </div>
        </div>
      </section>
    </main>

    <script src="../common/jquery-1.11.0.min.js"></script>
    <script src="../common/jquery-migrate-1.2.1.min.js"></script>
    <script src="/slick/slick.js"></script>
    <script>
      $(document).ready(function() {
        $('.filtering').slick({slidesToShow: 4, slidesToScroll: 4});

        var filtered = false,
          param,
          cssSelector = ':nth-child(2n)',
          node = document.querySelector('.filtering [data-slick-index="2"]'),
          functionFilter = function (elem){
            return parseInt(elem.textContent) % 3 === 0;
          };

        $('.js-filter').on('click', function() {
          param = document.querySelector('input[name="filterType"]:checked').value;
          if (param === "css"){
            param = cssSelector;
          } else if (param === "node") {
            param = node;
          } else {
            param = functionFilter;
          }

          if (filtered === false) {
            $('.filtering').slick('slickFilter', param);
            $(this).text('Unfilter Slides');
            filtered = true;
          } else {
            $('.filtering').slick('slickUnfilter');
            $(this).text('Filter Slides');
            filtered = false;
          }
        });

      });
    </script>
  </body>
</html>
